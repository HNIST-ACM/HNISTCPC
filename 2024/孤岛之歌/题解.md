# 孤岛之歌
一条边会对整个图的总度数加 $2$，所以如果总度数和是奇数，那么无解；
否则，答案为 $\text{偶度数点数}+\frac{\text{奇度数点数}}{2}$。

构造方式如下：
- 对于所有偶度数点，连接若干个自环。偶度数点节点 $u$ 连接 $\frac{d_u}{2}$ 个自环。
- 对于所有奇度数点，两两配对连接作为一个连通分量。两奇度数点 $u,v$ 具体配对方式为：不妨设 $d_u < d_v$，那么生成 $d_u$ 条边 $(u,v)$ 和 $\frac{d_v-d_u}{2}$ 条边 $(v,v)$ 即可。

因为对于奇度数点，必定需要和其他节点连边，不可能自己形成一个连通分量，所以上述方式连通分量数是最大的。